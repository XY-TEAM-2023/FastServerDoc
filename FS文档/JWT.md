# JWT

## 1. 介绍

### 1.1 概念

JWT（JSON Web Token）是一种用于在网络上安全地传输信息的开放标准（RFC 7519）。它是一种用于表示声明的紧凑且自包含的方式。**JWT通常用于身份验证和授权，以确保在客户端和服务器之间的通信中的数据完整性和安全性**。



### 1.2 为什么使用JWT

- JWT是一种轻量级的令牌格式，JWT的使用可以减轻服务器的负担，提高性能
- JWT是无状态的，这意味着服务器不需要在处理请求时维护任何会话信息。每个请求都可以独立验证，这降低了服务器的复杂性，并有助于水平扩展（分布式）
-  JWT支持签名和加密，可以确保令牌的完整性和真实性
- JWT允许自定义声明，因此可以在令牌中包含额外的信息，可以满足各种不同的用例，如身份验证、授权、信息交换
- 

### 1.2 数据结构

JWT通常由三个部分组成：

1. **Header（标头）**：包含描述JWT的元数据的JSON对象，通常包括令牌的类型（"JWT"）和所使用的签名算法（例如，HMAC SHA256或RSA）。
2. **Payload（有效负载）**：包含称为声明的数据的**JSON对象**。声明分为三种类型：注册声明、公共声明和私有声明。注册声明包括一些标准声明，如令牌的颁发者（"iss"）、受众（"aud"）和过期时间（"exp"）。公共声明包括自定义声明，但要避免与标准声明冲突。私有声明包含用户定义的声明，**用于在双方之间共享数据，客户端可以通过解payload得到当前的数据**。
3. **Signature（签名）**：用于验证令牌的真实性的一部分。签名是通过将标头、有效负载和密钥进行签名生成的，以便**服务器在接收到JWT后能够验证其完整性和真实性**。

### 1.3 JWT的使用方法

客户端通常在登录成功后获取JWT令牌，并在**后续的请求中**将其包含在请求头或请求参数中**发送给服务器**。**服务器**接收到JWT后，可以**验证其签名**以确保其完整性，**然后解析数据**，判断令牌是否过期、验证用户身份和权限。这样，服务器**不需要在每次请求时查询数据库或进行其他验证操作**，因为它可以信任JWT中的声明。

